{"ast":null,"code":"var _jsxFileName = \"/Users/projectfury13/tortuga/Final/3ptriov1/src/components/CreatePostTrip.jsx\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { AppBar, CssBaseline, Typography, Grid, Button, TextField } from \"@material-ui/core\";\nimport Nav from \"./Nav.jsx\";\nimport SideBar from \"./SideBar.jsx\";\nimport axios from \"axios\";\nimport DatePicker from \"react-datepicker\";\n\nconst useStyles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200\n  },\n  root: {\n    display: \"flex\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nclass CreatePostTrip extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      trip: {\n        title: \"\",\n        description: \"\",\n        file: \"\"\n      }\n    };\n\n    this.changevalueTitle = e => {\n      let trip = this.state.trip;\n      trip.title = e.target.value;\n      this.setState({\n        trip\n      });\n    };\n\n    this.changevalueDescription = e => {\n      let trip = this.state.trip;\n      trip.description = e.target.value;\n      this.setState({\n        trip\n      });\n    };\n\n    this.changevaluePicture = e => {\n      let trip = this.state.trip;\n      trip.file = e.target.files[0];\n      this.setState({\n        trip\n      });\n    };\n\n    this.postTrip = e => {\n      e.preventDefault();\n      console.log(\"about to create a trip\");\n      let data = new FormData();\n      let trip = this.state.trip;\n\n      for (let key in trip) {\n        console.log({\n          key\n        });\n        console.log(\"value\", trip[key]);\n        data.append(key, trip[key]);\n      }\n\n      axios.post(\"http://localhost:4000/posttrip\", data, {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"token\"))\n        }\n      }).then(res => {\n        if (res.data) {\n          this.setState({\n            trip: res.data\n          });\n          console.log(\"res.data\", res.data);\n          this.props.history.push(\"/\");\n        } else {\n          console.log(\"nay\");\n        }\n      }).catch(err => console.log({\n        err\n      }));\n    };\n  }\n\n  // addFileTrip = e => {\n  //   let trip = this.state;\n  //   trip.file = e.target.files[0];\n  //   this.setState({ trip });\n  // };\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(AppBar, {\n      position: \"fixed\",\n      className: classes.appBar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(SideBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      style: {\n        margin: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Tell Us About Your Trip\"), React.createElement(\"form\", {\n      onSubmit: e => this.postTrip(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"outlined-full-width\",\n      label: \"Title\",\n      style: {\n        margin: 8\n      },\n      placeholder: \"Name Your Trip\",\n      fullWidth: true,\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      onChange: e => this.changevalueTitle(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"outlined-full-width\",\n      label: \"Description\",\n      style: {\n        margin: 8\n      },\n      placeholder: \"Tell us about this trip\",\n      multiline: true,\n      fullWidth: true,\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      onChange: e => this.changevalueDescription(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Picture of Your Destination\",\n      style: {\n        margin: 8\n      },\n      placeholder: \"Upload Picture of Your Destination\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"Upload Picture\",\n      type: \"file\",\n      id: \"file\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: e => this.changevaluePicture(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Start Date\",\n      style: {\n        margin: 8\n      },\n      placeholder: \"Date of Departure\",\n      variant: \"outlined\",\n      required: true,\n      fullWidth: true,\n      name: \"Date\",\n      type: \"Date\",\n      format: \"MM/dd/yyyy\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"End Date\",\n      style: {\n        margin: 8\n      },\n      placeholder: \"Date of Departure\",\n      variant: \"outlined\",\n      format: \"MM/dd/yyyy\",\n      required: true,\n      fullWidth: true,\n      name: \"Date\",\n      type: \"Date\",\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      style: {\n        margin: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"large\",\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      style: {\n        background: \"#E83350\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Post\")))));\n  }\n\n}\n\nexport default withStyles(useStyles)(CreatePostTrip);","map":{"version":3,"sources":["/Users/projectfury13/tortuga/Final/3ptriov1/src/components/CreatePostTrip.jsx"],"names":["React","withStyles","AppBar","CssBaseline","Typography","Grid","Button","TextField","Nav","SideBar","axios","DatePicker","useStyles","theme","container","display","flexWrap","textField","marginLeft","spacing","marginRight","width","root","appBar","zIndex","drawer","content","flexGrow","padding","toolbar","mixins","CreatePostTrip","Component","state","trip","title","description","file","changevalueTitle","e","target","value","setState","changevalueDescription","changevaluePicture","files","postTrip","preventDefault","console","log","data","FormData","key","append","post","headers","Authorization","localStorage","getItem","then","res","props","history","push","catch","err","render","classes","margin","shrink","submit","background"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  CssBaseline,\n  Typography,\n  Grid,\n  Button,\n  TextField\n} from \"@material-ui/core\";\nimport Nav from \"./Nav.jsx\";\nimport SideBar from \"./SideBar.jsx\";\nimport axios from \"axios\";\nimport DatePicker from \"react-datepicker\";\n\nconst useStyles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200\n  },\n  root: {\n    display: \"flex\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nclass CreatePostTrip extends React.Component {\n  state = {\n    trip: {\n      title: \"\",\n      description: \"\",\n      file: \"\"\n    }\n  };\n\n  changevalueTitle = e => {\n    let trip = this.state.trip;\n    trip.title = e.target.value;\n    this.setState({ trip });\n  };\n  changevalueDescription = e => {\n    let trip = this.state.trip;\n    trip.description = e.target.value;\n    this.setState({ trip });\n  };\n  changevaluePicture = e => {\n    let trip = this.state.trip;\n    trip.file = e.target.files[0];\n    this.setState({ trip });\n  };\n\n  postTrip = e => {\n    e.preventDefault();\n    console.log(\"about to create a trip\");\n    let data = new FormData();\n\n    let trip = this.state.trip;\n\n    for (let key in trip) {\n      console.log({ key });\n      console.log(\"value\", trip[key]);\n      data.append(key, trip[key]);\n    }\n\n    axios\n      .post(`http://localhost:4000/posttrip`, data, {\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\n      })\n      .then(res => {\n        if (res.data) {\n          this.setState({ trip: res.data });\n          console.log(\"res.data\", res.data);\n          this.props.history.push(\"/\");\n        } else {\n          console.log(\"nay\");\n        }\n      })\n      .catch(err => console.log({ err }));\n  };\n\n  // addFileTrip = e => {\n  //   let trip = this.state;\n  //   trip.file = e.target.files[0];\n  //   this.setState({ trip });\n  // };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Nav />\n        </AppBar>\n        <SideBar />\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n          <Typography component=\"h1\" variant=\"h5\" style={{ margin: 8 }}>\n            Tell Us About Your Trip\n          </Typography>\n\n          <form onSubmit={e => this.postTrip(e)}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                id=\"outlined-full-width\"\n                label=\"Title\"\n                style={{ margin: 8 }}\n                placeholder=\"Name Your Trip\"\n                fullWidth\n                margin=\"normal\"\n                InputLabelProps={{\n                  shrink: true\n                }}\n                variant=\"outlined\"\n                onChange={e => this.changevalueTitle(e)}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n              <TextField\n                id=\"outlined-full-width\"\n                label=\"Description\"\n                style={{ margin: 8 }}\n                placeholder=\"Tell us about this trip\"\n                multiline\n                fullWidth\n                margin=\"normal\"\n                InputLabelProps={{\n                  shrink: true\n                }}\n                variant=\"outlined\"\n                onChange={e => this.changevalueDescription(e)}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n              <TextField\n                label=\"Picture of Your Destination\"\n                style={{ margin: 8 }}\n                placeholder=\"Upload Picture of Your Destination\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"Upload Picture\"\n                type=\"file\"\n                id=\"file\"\n                InputLabelProps={{\n                  shrink: true\n                }}\n                onChange={e => this.changevaluePicture(e)}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n              <TextField\n                label=\"Start Date\"\n                style={{ margin: 8 }}\n                placeholder=\"Date of Departure\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"Date\"\n                type=\"Date\"\n                format=\"MM/dd/yyyy\"\n                InputLabelProps={{\n                  shrink: true\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n              <TextField\n                label=\"End Date\"\n                style={{ margin: 8 }}\n                placeholder=\"Date of Departure\"\n                variant=\"outlined\"\n                format=\"MM/dd/yyyy\"\n                required\n                fullWidth\n                name=\"Date\"\n                type=\"Date\"\n                InputLabelProps={{\n                  shrink: true\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={6} style={{ margin: 8 }}>\n              <Button\n                size=\"large\"\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                style={{ background: \"#E83350\" }}\n              >\n                Post\n              </Button>\n            </Grid>\n          </form>\n        </main>\n      </div>\n    );\n  }\n}\nexport default withStyles(useStyles)(CreatePostTrip);\n"]},"metadata":{},"sourceType":"module"}